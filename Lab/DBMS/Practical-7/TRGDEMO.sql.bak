REM CREDITS PROF D. A. BORIKAR
REM SCRIPT FOR TRIGGERS DEMO
REM =========================

SET VERIFY OFF
SET ECHO OFF
SET FEEDBACK OFF

-- CREATE TRGDEMO USER IF IT DOES NOT EXIST
CONNECT SYSTEM/system;
-- ENTER PASSWORD WHEN PROMPTED
DROP USER TRGDEMO CASCADE;
CREATE USER TRGDEMO IDENTIFIED BY trgdemo QUOTA 100 M ON USERS;
GRANT CONNECT, RESOURCE TO TRGDEMO;

CONNECT TRGDEMO/trgdemo;

PAUSE HIT ANY KEY TO CONTINUE....

DROP TABLE DEPTT CASCADE CONSTRAINTS;
DROP TABLE EMPL CASCADE CONSTRAINTS;

CREATE TABLE DEPTT(
    DEPTNO  NUMBER(2)   NOT NULL,
    DNAME   VARCHAR2(14),
    LOC     VARCHAR2(13),
    CONSTRAINT DEPTT_PK PRIMARY KEY (DEPTNO)
);

INSERT INTO DEPTT VALUES (10, 'ACCOUNTING','NEW YORK');
INSERT INTO DEPTT VALUES (20, 'RESEARCH','DALLAS');
INSERT INTO DEPTT VALUES (30, 'SALES','CHICAGO');
INSERT INTO DEPTT VALUES (40, 'OPERATIONS','BOSTON');
COMMIT;

CREATE TABLE EMPL(
    EMPNO NUMBER(4) NOT NULL,
    ENAME VARCHAR2(10),
    JOB VARCHAR2(9),
    MGR NUMBER(4),
    HIREDATE DATE,
    SAL NUMBER(7,2),
    COMM NUMBER(7,2),
    DEPTNO NUMBER(2),
    CONSTRAINT EMPL_PK_EMPNO PRIMARY KEY (EMPNO),
    CONSTRAINT EMPL_FK_DEPTT_DEPTNO FOREIGN KEY (DEPTNO) REFERENCES DEPTT(DEPTNO)
);
INSERT INTO EMPL VALUES(7839,'KING','PRESIDENT',NULL,'17-NOV-81',5100,NULL,10);
INSERT INTO EMPL VALUES(7698,'BLAKE','MANAGER',7839,'01-MAY-81',2950,NULL,30);
INSERT INTO EMPL VALUES(7902,'FORD','ANALYST',7566,'03-DEC-81',3100,NULL,20);
INSERT INTO EMPL VALUES(7369,'SMITH','CLERK',7902,'17-DEC-80',900,NULL,20);
INSERT INTO EMPL VALUES(7499,'ALLEN','SALESMAN',7698,'20-FEB-81',1700,300,30);
INSERT INTO EMPL VALUES(7521,'WARD','SALESMAN',7698,'22-FEB-81',1350,500,30);
INSERT INTO EMPL VALUES(7566,'JONES','MANAGER',7839,'02-APR-81',3075,NULL,20);
INSERT INTO EMPL VALUES(7654,'MARTIN','SALESMAN',7698,'28-SEP-81',1350,1400,30);
INSERT INTO EMPL VALUES(7782,'CLARK','MANAGER',7839,'09-JUN-81',2550,NULL,10);
INSERT INTO EMPL VALUES(7788,'SCOTT','ANALYST',7566,'19-APR-87',3100,NULL,20);
INSERT INTO EMPL VALUES(7844,'TURNER','SALESMAN',7698,'08-SEP-81',1600,0,30);
INSERT INTO EMPL VALUES(7876,'ADAMS','CLERK',7788,'23-MAY-87',1200,NULL,20);
INSERT INTO EMPL VALUES(7900,'JAMES','CLERK',7698,'03-DEC-81',1050,NULL,30);
INSERT INTO EMPL VALUES(7934,'MILLER','CLERK',7782,'23-JAN-82',1400,NULL,10);
COMMIT;

SET NUMWIDTH 5
SET PAGES 30
SET LINES 80

SET FEEDBACK ON
SET ECHO ON